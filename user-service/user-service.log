
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.1)

{"@timestamp":"2025-12-17T14:00:18.718109-03:00","@version":"1","message":"Starting UserServiceApplication using Java 25.0.1 with PID 23670 (/Users/yuri.camargo/DevPro/Practice_projects/Digital-Marketplace/user-service/target/user-service-1.0.0-SNAPSHOT.jar started by yuri.camargo in /Users/yuri.camargo/DevPro/Practice_projects/Digital-Marketplace/user-service)","logger_name":"com.marketplace.user.UserServiceApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:18.722685-03:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.marketplace.user.UserServiceApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:19.210109-03:00","@version":"1","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:19.231599-03:00","@version":"1","message":"Finished Spring Data repository scanning in 18 ms. Found 3 JPA repository interfaces.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
WARNING: A restricted method in java.lang.System has been called
WARNING: java.lang.System::load has been called by org.apache.tomcat.jni.Library in an unnamed module (jar:nested:/Users/yuri.camargo/DevPro/Practice_projects/Digital-Marketplace/user-service/target/user-service-1.0.0-SNAPSHOT.jar/!BOOT-INF/lib/tomcat-embed-core-10.1.17.jar!/)
WARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module
WARNING: Restricted methods will be blocked in a future release unless native access is enabled

{"@timestamp":"2025-12-17T14:00:19.72259-03:00","@version":"1","message":"Tomcat initialized with port 8081 (http)","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:19.728241-03:00","@version":"1","message":"Starting service [Tomcat]","logger_name":"org.apache.catalina.core.StandardService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:19.728418-03:00","@version":"1","message":"Starting Servlet engine: [Apache Tomcat/10.1.17]","logger_name":"org.apache.catalina.core.StandardEngine","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:19.742713-03:00","@version":"1","message":"Initializing Spring embedded WebApplicationContext","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:19.742978-03:00","@version":"1","message":"Root WebApplicationContext: initialization completed in 984 ms","logger_name":"org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:20.263811-03:00","@version":"1","message":"Flyway OSS Edition 10.4.1 by Redgate","logger_name":"org.flywaydb.core.internal.scanner.classpath.ClassPathScanner","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:20.263908-03:00","@version":"1","message":"","logger_name":"org.flywaydb.core.internal.scanner.classpath.ClassPathScanner","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:20.263931-03:00","@version":"1","message":"See release notes here: https://rd.gt/416ObMi","logger_name":"org.flywaydb.core.internal.scanner.classpath.ClassPathScanner","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:20.267242-03:00","@version":"1","message":"HikariPool-1 - Starting...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:20.354568-03:00","@version":"1","message":"HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2ecc4be7","logger_name":"com.zaxxer.hikari.pool.HikariPool","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:20.35525-03:00","@version":"1","message":"HikariPool-1 - Start completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:20.367062-03:00","@version":"1","message":"Database: jdbc:postgresql://localhost:5463/user_db (PostgreSQL 16.11)","logger_name":"org.flywaydb.core.FlywayExecutor","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:20.390494-03:00","@version":"1","message":"Successfully validated 4 migrations (execution time 00:00.013s)","logger_name":"org.flywaydb.core.internal.command.DbValidate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:20.414373-03:00","@version":"1","message":"Current version of schema \"public\": 4","logger_name":"org.flywaydb.core.internal.command.DbMigrate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:20.415783-03:00","@version":"1","message":"Schema \"public\" is up to date. No migration necessary.","logger_name":"org.flywaydb.core.internal.command.DbMigrate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:20.467203-03:00","@version":"1","message":"HHH000204: Processing PersistenceUnitInfo [name: default]","logger_name":"org.hibernate.jpa.internal.util.LogHelper","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:20.505021-03:00","@version":"1","message":"HHH000412: Hibernate ORM core version 6.4.1.Final","logger_name":"org.hibernate.Version","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:20.520203-03:00","@version":"1","message":"HHH000026: Second-level cache disabled","logger_name":"org.hibernate.cache.internal.RegionFactoryInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:20.611069-03:00","@version":"1","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:21.015403-03:00","@version":"1","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:21.033244-03:00","@version":"1","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:21.207215-03:00","@version":"1","message":"Hibernate is in classpath; If applicable, HQL parser will be used.","logger_name":"org.springframework.data.jpa.repository.query.QueryEnhancerFactory","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:21.484881-03:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger_name":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2025-12-17T14:00:21.94017-03:00","@version":"1","message":"Exposing 1 endpoint(s) beneath base path '/actuator'","logger_name":"org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:21.971644-03:00","@version":"1","message":"Tomcat started on port 8081 (http) with context path ''","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:21.980785-03:00","@version":"1","message":"Started UserServiceApplication in 3.549 seconds (process running for 3.762)","logger_name":"com.marketplace.user.UserServiceApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:22.016683-03:00","@version":"1","message":"Starting orphaned user cleanup on application startup","logger_name":"com.marketplace.user.startup.OrphanedUserStartupCleanup","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:22.044411-03:00","@version":"1","message":"\n    select\n        u1_0.user_id,\n        u1_0.created_at,\n        u1_0.email,\n        u1_0.name,\n        u1_0.phone,\n        u1_0.updated_at \n    from\n        users u1_0","logger_name":"org.hibernate.SQL","thread_name":"main","level":"DEBUG","level_value":10000}
{"@timestamp":"2025-12-17T14:00:22.047893-03:00","@version":"1","message":"Found 0 total users to validate","logger_name":"com.marketplace.user.startup.OrphanedUserStartupCleanup","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:00:22.047959-03:00","@version":"1","message":"Startup cleanup completed: no orphaned users found","logger_name":"com.marketplace.user.startup.OrphanedUserStartupCleanup","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:02:16.53274-03:00","@version":"1","message":"Initializing Spring DispatcherServlet 'dispatcherServlet'","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"http-nio-8081-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:02:16.533138-03:00","@version":"1","message":"Initializing Servlet 'dispatcherServlet'","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-8081-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:02:16.533769-03:00","@version":"1","message":"Completed initialization in 0 ms","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-8081-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:02:16.57021-03:00","@version":"1","message":"Create user request received for: newuser@example.com","logger_name":"com.marketplace.user.controller.UserController","thread_name":"http-nio-8081-exec-1","level":"INFO","level_value":20000,"correlationId":"2cf95c32-efd9-4e49-aee8-a1af7338b539"}
{"@timestamp":"2025-12-17T14:02:16.571419-03:00","@version":"1","message":"Creating user: newuser@example.com","logger_name":"com.marketplace.user.service.UserService","thread_name":"http-nio-8081-exec-1","level":"INFO","level_value":20000,"operation":"createUser","userId":"b12bcc04-b5aa-482b-b214-1e606ff0ef36","correlationId":"2cf95c32-efd9-4e49-aee8-a1af7338b539"}
{"@timestamp":"2025-12-17T14:02:16.575703-03:00","@version":"1","message":"\n    select\n        u1_0.user_id,\n        u1_0.created_at,\n        u1_0.email,\n        u1_0.name,\n        u1_0.phone,\n        r1_0.user_id,\n        r1_0.role,\n        u1_0.updated_at \n    from\n        users u1_0 \n    left join\n        user_roles r1_0 \n            on u1_0.user_id=r1_0.user_id \n    where\n        u1_0.user_id=?","logger_name":"org.hibernate.SQL","thread_name":"http-nio-8081-exec-1","level":"DEBUG","level_value":10000,"operation":"createUser","userId":"b12bcc04-b5aa-482b-b214-1e606ff0ef36","correlationId":"2cf95c32-efd9-4e49-aee8-a1af7338b539"}
{"@timestamp":"2025-12-17T14:02:16.583621-03:00","@version":"1","message":"\n    select\n        u1_0.user_id \n    from\n        users u1_0 \n    where\n        u1_0.email=? \n    fetch\n        first ? rows only","logger_name":"org.hibernate.SQL","thread_name":"http-nio-8081-exec-1","level":"DEBUG","level_value":10000,"operation":"createUser","userId":"b12bcc04-b5aa-482b-b214-1e606ff0ef36","correlationId":"2cf95c32-efd9-4e49-aee8-a1af7338b539"}
{"@timestamp":"2025-12-17T14:02:16.590176-03:00","@version":"1","message":"\n    select\n        u1_0.user_id,\n        u1_0.created_at,\n        u1_0.email,\n        u1_0.name,\n        u1_0.phone,\n        r1_0.user_id,\n        r1_0.role,\n        u1_0.updated_at \n    from\n        users u1_0 \n    left join\n        user_roles r1_0 \n            on u1_0.user_id=r1_0.user_id \n    where\n        u1_0.user_id=?","logger_name":"org.hibernate.SQL","thread_name":"http-nio-8081-exec-1","level":"DEBUG","level_value":10000,"operation":"createUser","userId":"b12bcc04-b5aa-482b-b214-1e606ff0ef36","correlationId":"2cf95c32-efd9-4e49-aee8-a1af7338b539"}
{"@timestamp":"2025-12-17T14:02:16.606046-03:00","@version":"1","message":"\n    select\n        up1_0.user_id,\n        up1_0.created_at,\n        up1_0.email_notifications,\n        up1_0.newsletter_subscription,\n        up1_0.order_updates,\n        up1_0.promotional_emails,\n        up1_0.sms_notifications,\n        up1_0.updated_at \n    from\n        user_preferences up1_0 \n    where\n        up1_0.user_id=?","logger_name":"org.hibernate.SQL","thread_name":"http-nio-8081-exec-1","level":"DEBUG","level_value":10000,"operation":"createUser","userId":"b12bcc04-b5aa-482b-b214-1e606ff0ef36","correlationId":"2cf95c32-efd9-4e49-aee8-a1af7338b539"}
{"@timestamp":"2025-12-17T14:02:16.609174-03:00","@version":"1","message":"User created successfully: b12bcc04-b5aa-482b-b214-1e606ff0ef36","logger_name":"com.marketplace.user.service.UserService","thread_name":"http-nio-8081-exec-1","level":"INFO","level_value":20000,"operation":"createUser","userId":"b12bcc04-b5aa-482b-b214-1e606ff0ef36","correlationId":"2cf95c32-efd9-4e49-aee8-a1af7338b539"}
{"@timestamp":"2025-12-17T14:02:16.609304-03:00","@version":"1","message":"Domain event: UserCreated on USER b12bcc04-b5aa-482b-b214-1e606ff0ef36, snapshot: UserResponse[userId=b12bcc04-b5aa-482b-b214-1e606ff0ef36, email=newuser@example.com, name=New User, phone=null, roles=[CUSTOMER], createdAt=2025-12-17T14:02:16.597280-03:00, updatedAt=2025-12-17T14:02:16.597280-03:00]","logger_name":"com.marketplace.user.util.EventLogger","thread_name":"http-nio-8081-exec-1","level":"INFO","level_value":20000,"aggregateId":"b12bcc04-b5aa-482b-b214-1e606ff0ef36","correlationId":"2cf95c32-efd9-4e49-aee8-a1af7338b539","eventType":"UserCreated","operation":"createUser","userId":"b12bcc04-b5aa-482b-b214-1e606ff0ef36","aggregateType":"USER"}
{"@timestamp":"2025-12-17T14:02:16.615698-03:00","@version":"1","message":"\n    insert \n    into\n        users\n        (created_at, email, name, phone, updated_at, user_id) \n    values\n        (?, ?, ?, ?, ?, ?)","logger_name":"org.hibernate.SQL","thread_name":"http-nio-8081-exec-1","level":"DEBUG","level_value":10000,"operation":"createUser","userId":"b12bcc04-b5aa-482b-b214-1e606ff0ef36","correlationId":"2cf95c32-efd9-4e49-aee8-a1af7338b539"}
{"@timestamp":"2025-12-17T14:02:16.617749-03:00","@version":"1","message":"\n    insert \n    into\n        user_preferences\n        (created_at, email_notifications, newsletter_subscription, order_updates, promotional_emails, sms_notifications, updated_at, user_id) \n    values\n        (?, ?, ?, ?, ?, ?, ?, ?)","logger_name":"org.hibernate.SQL","thread_name":"http-nio-8081-exec-1","level":"DEBUG","level_value":10000,"operation":"createUser","userId":"b12bcc04-b5aa-482b-b214-1e606ff0ef36","correlationId":"2cf95c32-efd9-4e49-aee8-a1af7338b539"}
{"@timestamp":"2025-12-17T14:02:16.619899-03:00","@version":"1","message":"\n    insert \n    into\n        user_roles\n        (user_id, role) \n    values\n        (?, ?)","logger_name":"org.hibernate.SQL","thread_name":"http-nio-8081-exec-1","level":"DEBUG","level_value":10000,"operation":"createUser","userId":"b12bcc04-b5aa-482b-b214-1e606ff0ef36","correlationId":"2cf95c32-efd9-4e49-aee8-a1af7338b539"}
{"@timestamp":"2025-12-17T14:03:03.957968-03:00","@version":"1","message":"Unexpected error","logger_name":"com.marketplace.user.exception.GlobalExceptionHandler","thread_name":"http-nio-8081-exec-3","level":"ERROR","level_value":40000,"stack_trace":"org.springframework.web.servlet.resource.NoResourceFoundException: No static resource favicon.ico.\n\tat org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)\n\tat org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat com.marketplace.user.filter.JwtValidationFilter.doFilterInternal(JwtValidationFilter.java:65)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat com.marketplace.user.filter.CorrelationIdFilter.doFilterInternal(CorrelationIdFilter.java:48)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Thread.java:1474)\n","correlationId":"f2933224-72b8-414f-84f1-ce969558920f"}
{"@timestamp":"2025-12-17T14:03:42.682887-03:00","@version":"1","message":"Create user request received for: newuser@test.com","logger_name":"com.marketplace.user.controller.UserController","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000,"correlationId":"388b0a8d-18ac-4b8b-9518-a63b42aaeae3"}
{"@timestamp":"2025-12-17T14:03:42.685288-03:00","@version":"1","message":"Creating user: newuser@test.com","logger_name":"com.marketplace.user.service.UserService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000,"operation":"createUser","userId":"97090f09-6c57-4da8-b5f4-447d773621c7","correlationId":"388b0a8d-18ac-4b8b-9518-a63b42aaeae3"}
{"@timestamp":"2025-12-17T14:03:42.686229-03:00","@version":"1","message":"\n    select\n        u1_0.user_id,\n        u1_0.created_at,\n        u1_0.email,\n        u1_0.name,\n        u1_0.phone,\n        r1_0.user_id,\n        r1_0.role,\n        u1_0.updated_at \n    from\n        users u1_0 \n    left join\n        user_roles r1_0 \n            on u1_0.user_id=r1_0.user_id \n    where\n        u1_0.user_id=?","logger_name":"org.hibernate.SQL","thread_name":"http-nio-8081-exec-5","level":"DEBUG","level_value":10000,"operation":"createUser","userId":"97090f09-6c57-4da8-b5f4-447d773621c7","correlationId":"388b0a8d-18ac-4b8b-9518-a63b42aaeae3"}
{"@timestamp":"2025-12-17T14:03:42.689804-03:00","@version":"1","message":"\n    select\n        u1_0.user_id \n    from\n        users u1_0 \n    where\n        u1_0.email=? \n    fetch\n        first ? rows only","logger_name":"org.hibernate.SQL","thread_name":"http-nio-8081-exec-5","level":"DEBUG","level_value":10000,"operation":"createUser","userId":"97090f09-6c57-4da8-b5f4-447d773621c7","correlationId":"388b0a8d-18ac-4b8b-9518-a63b42aaeae3"}
{"@timestamp":"2025-12-17T14:03:42.691574-03:00","@version":"1","message":"\n    select\n        u1_0.user_id,\n        u1_0.created_at,\n        u1_0.email,\n        u1_0.name,\n        u1_0.phone,\n        r1_0.user_id,\n        r1_0.role,\n        u1_0.updated_at \n    from\n        users u1_0 \n    left join\n        user_roles r1_0 \n            on u1_0.user_id=r1_0.user_id \n    where\n        u1_0.user_id=?","logger_name":"org.hibernate.SQL","thread_name":"http-nio-8081-exec-5","level":"DEBUG","level_value":10000,"operation":"createUser","userId":"97090f09-6c57-4da8-b5f4-447d773621c7","correlationId":"388b0a8d-18ac-4b8b-9518-a63b42aaeae3"}
{"@timestamp":"2025-12-17T14:03:42.693994-03:00","@version":"1","message":"\n    select\n        up1_0.user_id,\n        up1_0.created_at,\n        up1_0.email_notifications,\n        up1_0.newsletter_subscription,\n        up1_0.order_updates,\n        up1_0.promotional_emails,\n        up1_0.sms_notifications,\n        up1_0.updated_at \n    from\n        user_preferences up1_0 \n    where\n        up1_0.user_id=?","logger_name":"org.hibernate.SQL","thread_name":"http-nio-8081-exec-5","level":"DEBUG","level_value":10000,"operation":"createUser","userId":"97090f09-6c57-4da8-b5f4-447d773621c7","correlationId":"388b0a8d-18ac-4b8b-9518-a63b42aaeae3"}
{"@timestamp":"2025-12-17T14:03:42.695302-03:00","@version":"1","message":"User created successfully: 97090f09-6c57-4da8-b5f4-447d773621c7","logger_name":"com.marketplace.user.service.UserService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000,"operation":"createUser","userId":"97090f09-6c57-4da8-b5f4-447d773621c7","correlationId":"388b0a8d-18ac-4b8b-9518-a63b42aaeae3"}
{"@timestamp":"2025-12-17T14:03:42.695448-03:00","@version":"1","message":"Domain event: UserCreated on USER 97090f09-6c57-4da8-b5f4-447d773621c7, snapshot: UserResponse[userId=97090f09-6c57-4da8-b5f4-447d773621c7, email=newuser@test.com, name=New User, phone=null, roles=[CUSTOMER], createdAt=2025-12-17T14:03:42.692981-03:00, updatedAt=2025-12-17T14:03:42.692981-03:00]","logger_name":"com.marketplace.user.util.EventLogger","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000,"aggregateId":"97090f09-6c57-4da8-b5f4-447d773621c7","correlationId":"388b0a8d-18ac-4b8b-9518-a63b42aaeae3","eventType":"UserCreated","operation":"createUser","userId":"97090f09-6c57-4da8-b5f4-447d773621c7","aggregateType":"USER"}
{"@timestamp":"2025-12-17T14:03:42.696346-03:00","@version":"1","message":"\n    insert \n    into\n        users\n        (created_at, email, name, phone, updated_at, user_id) \n    values\n        (?, ?, ?, ?, ?, ?)","logger_name":"org.hibernate.SQL","thread_name":"http-nio-8081-exec-5","level":"DEBUG","level_value":10000,"operation":"createUser","userId":"97090f09-6c57-4da8-b5f4-447d773621c7","correlationId":"388b0a8d-18ac-4b8b-9518-a63b42aaeae3"}
{"@timestamp":"2025-12-17T14:03:42.697765-03:00","@version":"1","message":"\n    insert \n    into\n        user_preferences\n        (created_at, email_notifications, newsletter_subscription, order_updates, promotional_emails, sms_notifications, updated_at, user_id) \n    values\n        (?, ?, ?, ?, ?, ?, ?, ?)","logger_name":"org.hibernate.SQL","thread_name":"http-nio-8081-exec-5","level":"DEBUG","level_value":10000,"operation":"createUser","userId":"97090f09-6c57-4da8-b5f4-447d773621c7","correlationId":"388b0a8d-18ac-4b8b-9518-a63b42aaeae3"}
{"@timestamp":"2025-12-17T14:03:42.699005-03:00","@version":"1","message":"\n    insert \n    into\n        user_roles\n        (user_id, role) \n    values\n        (?, ?)","logger_name":"org.hibernate.SQL","thread_name":"http-nio-8081-exec-5","level":"DEBUG","level_value":10000,"operation":"createUser","userId":"97090f09-6c57-4da8-b5f4-447d773621c7","correlationId":"388b0a8d-18ac-4b8b-9518-a63b42aaeae3"}
{"@timestamp":"2025-12-17T14:06:47.882314-03:00","@version":"1","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:06:47.884393-03:00","@version":"1","message":"HikariPool-1 - Shutdown initiated...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2025-12-17T14:06:47.885531-03:00","@version":"1","message":"HikariPool-1 - Shutdown completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
