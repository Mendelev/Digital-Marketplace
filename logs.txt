  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.1)

{"@timestamp":"2025-12-23T11:26:24.17653221Z","@version":"1","message":"Starting OrderServiceApplication using Java 21.0.9 with PID 1 (/app/app.jar started by orderservice in /app)","logger_name":"com.marketplace.order.OrderServiceApplication","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:24.186605127Z","@version":"1","message":"Running with Spring Boot v3.2.1, Spring v6.1.2","logger_name":"com.marketplace.order.OrderServiceApplication","thread_name":"main","level":"DEBUG","level_value":10000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:24.188294002Z","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.marketplace.order.OrderServiceApplication","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:24.69190346Z","@version":"1","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:24.769968544Z","@version":"1","message":"Finished Spring Data repository scanning in 74 ms. Found 6 JPA repository interfaces.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:24.846852502Z","@version":"1","message":"No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.","logger_name":"org.springframework.integration.config.DefaultConfiguringBeanFactoryPostProcessor","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:24.850375627Z","@version":"1","message":"No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.","logger_name":"org.springframework.integration.config.DefaultConfiguringBeanFactoryPostProcessor","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.421894044Z","@version":"1","message":"Tomcat initialized with port 8086 (http)","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.429581544Z","@version":"1","message":"Starting service [Tomcat]","logger_name":"org.apache.catalina.core.StandardService","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.429885794Z","@version":"1","message":"Starting Servlet engine: [Apache Tomcat/10.1.17]","logger_name":"org.apache.catalina.core.StandardEngine","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.446168502Z","@version":"1","message":"Initializing Spring embedded WebApplicationContext","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.446759419Z","@version":"1","message":"Root WebApplicationContext: initialization completed in 1204 ms","logger_name":"org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.480904627Z","@version":"1","message":"Filter 'correlationIdFilter' configured for use","logger_name":"com.marketplace.order.filter.CorrelationIdFilter","thread_name":"main","level":"DEBUG","level_value":10000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.534006127Z","@version":"1","message":"HikariPool-1 - Starting...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.649744044Z","@version":"1","message":"HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7e0883f3","logger_name":"com.zaxxer.hikari.pool.HikariPool","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.650687419Z","@version":"1","message":"HikariPool-1 - Start completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.699587628Z","@version":"1","message":"Flyway Community Edition 9.22.3 by Redgate","logger_name":"org.flywaydb.core.internal.license.VersionPrinter","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.699745419Z","@version":"1","message":"See release notes here: https://rd.gt/416ObMi","logger_name":"org.flywaydb.core.internal.license.VersionPrinter","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.699793586Z","@version":"1","message":"","logger_name":"org.flywaydb.core.internal.license.VersionPrinter","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.706859003Z","@version":"1","message":"Database: jdbc:postgresql://host.docker.internal:5466/order_db (PostgreSQL 16.11)","logger_name":"org.flywaydb.core.FlywayExecutor","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.713142461Z","@version":"1","message":"Flyway upgrade recommended: PostgreSQL 16.11 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.","logger_name":"org.flywaydb.core.internal.database.base.Database","thread_name":"main","level":"WARN","level_value":30000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.739735128Z","@version":"1","message":"Schema history table \"public\".\"flyway_schema_history\" does not exist yet","logger_name":"org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.741981294Z","@version":"1","message":"Successfully validated 8 migrations (execution time 00:00.012s)","logger_name":"org.flywaydb.core.internal.command.DbValidate","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.756630128Z","@version":"1","message":"Creating Schema History table \"public\".\"flyway_schema_history\" ...","logger_name":"org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.784880086Z","@version":"1","message":"Current version of schema \"public\": << Empty Schema >>","logger_name":"org.flywaydb.core.internal.command.DbMigrate","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.789523753Z","@version":"1","message":"Migrating schema \"public\" to version \"1 - create orders table\"","logger_name":"org.flywaydb.core.internal.command.DbMigrate","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.817863544Z","@version":"1","message":"Migrating schema \"public\" to version \"2 - create order items table\"","logger_name":"org.flywaydb.core.internal.command.DbMigrate","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.830166211Z","@version":"1","message":"Migrating schema \"public\" to version \"3 - create order events table\"","logger_name":"org.flywaydb.core.internal.command.DbMigrate","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.845043628Z","@version":"1","message":"Migrating schema \"public\" to version \"4 - create payments table\"","logger_name":"org.flywaydb.core.internal.command.DbMigrate","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.856422003Z","@version":"1","message":"Migrating schema \"public\" to version \"5 - create payment transactions table\"","logger_name":"org.flywaydb.core.internal.command.DbMigrate","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.866970419Z","@version":"1","message":"Migrating schema \"public\" to version \"6 - create stock items table\"","logger_name":"org.flywaydb.core.internal.command.DbMigrate","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.875860711Z","@version":"1","message":"Migrating schema \"public\" to version \"7 - create reservations table\"","logger_name":"org.flywaydb.core.internal.command.DbMigrate","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.887104419Z","@version":"1","message":"Migrating schema \"public\" to version \"8 - create reservation lines table\"","logger_name":"org.flywaydb.core.internal.command.DbMigrate","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.896554044Z","@version":"1","message":"Successfully applied 8 migrations to schema \"public\", now at version v8 (execution time 00:00.060s)","logger_name":"org.flywaydb.core.internal.command.DbMigrate","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.957068544Z","@version":"1","message":"HHH000204: Processing PersistenceUnitInfo [name: default]","logger_name":"org.hibernate.jpa.internal.util.LogHelper","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.980510669Z","@version":"1","message":"HHH000412: Hibernate ORM core version 6.4.1.Final","logger_name":"org.hibernate.Version","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:25.993306711Z","@version":"1","message":"HHH000026: Second-level cache disabled","logger_name":"org.hibernate.cache.internal.RegionFactoryInitiator","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:26.089640128Z","@version":"1","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:26.116576753Z","@version":"1","message":"HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger_name":"org.hibernate.orm.deprecation","thread_name":"main","level":"WARN","level_value":30000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:26.694974378Z","@version":"1","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:26.742599836Z","@version":"1","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:27.500270378Z","@version":"1","message":"Hibernate is in classpath; If applicable, HQL parser will be used.","logger_name":"org.springframework.data.jpa.repository.query.QueryEnhancerFactory","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:28.00276067Z","@version":"1","message":"\n    select\n        coalesce(max(oe1_0.sequence_number), 0) \n    from\n        order_events oe1_0","logger_name":"org.hibernate.SQL","thread_name":"main","level":"DEBUG","level_value":10000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:28.007510254Z","@version":"1","message":"Initialized order event sequence number at: 0","logger_name":"com.marketplace.order.service.OrderEventPublisher","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:28.15802642Z","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger_name":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread_name":"main","level":"WARN","level_value":30000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:28.982844587Z","@version":"1","message":"Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel","logger_name":"org.springframework.integration.endpoint.EventDrivenConsumer","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:28.983416254Z","@version":"1","message":"Channel 'order-service.errorChannel' has 1 subscriber(s).","logger_name":"org.springframework.integration.channel.PublishSubscribeChannel","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:28.983586462Z","@version":"1","message":"started bean '_org.springframework.integration.errorLogger'","logger_name":"org.springframework.integration.endpoint.EventDrivenConsumer","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:28.993273087Z","@version":"1","message":"Tomcat started on port 8086 (http) with context path ''","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:29.001012504Z","@version":"1","message":"Started OrderServiceApplication in 5.256 seconds (process running for 5.663)","logger_name":"com.marketplace.order.OrderServiceApplication","thread_name":"main","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:33.466878048Z","@version":"1","message":"Initializing Spring DispatcherServlet 'dispatcherServlet'","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"http-nio-8086-exec-1","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:33.467544631Z","@version":"1","message":"Initializing Servlet 'dispatcherServlet'","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-8086-exec-1","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:33.47095534Z","@version":"1","message":"Completed initialization in 3 ms","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-8086-exec-1","level":"INFO","level_value":20000,"service":"order-service"}
{"@timestamp":"2025-12-23T11:26:34.039551215Z","@version":"1","message":"Init duration for springdoc-openapi is: 525 ms","logger_name":"org.springdoc.api.AbstractOpenApiResource","thread_name":"http-nio-8086-exec-1","level":"INFO","level_value":20000,"correlationId":"1c34b960-f378-4c23-9b2b-3548aa083bcd","service":"order-service"}
{"@timestamp":"2025-12-23T11:26:34.05686859Z","@version":"1","message":"Unexpected error occurred: java.io.IOException: Connection reset by peer","logger_name":"com.marketplace.order.exception.GlobalExceptionHandler","thread_name":"http-nio-8086-exec-1","level":"ERROR","level_value":40000,"stack_trace":"org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer\n\tat org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)\n\tat org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:267)\n\tat org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:120)\n\tat org.springframework.util.StreamUtils.copy(StreamUtils.java:118)\n\tat org.springframework.http.converter.ByteArrayHttpMessageConverter.writeInternal(ByteArrayHttpMessageConverter.java:67)\n\tat org.springframework.http.converter.ByteArrayHttpMessageConverter.writeInternal(ByteArrayHttpMessageConverter.java:38)\n\tat org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:236)\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:300)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:190)\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat com.marketplace.order.filter.CorrelationIdFilter.doFilterInternal(CorrelationIdFilter.java:43)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Unknown Source)\nCaused by: java.io.IOException: Connection reset by peer\n\tat java.base/sun.nio.ch.SocketDispatcher.write0(Native Method)\n\tat java.base/sun.nio.ch.SocketDispatcher.write(Unknown Source)\n\tat java.base/sun.nio.ch.IOUtil.writeFromNativeBuffer(Unknown Source)\n\tat java.base/sun.nio.ch.IOUtil.write(Unknown Source)\n\tat java.base/sun.nio.ch.IOUtil.write(Unknown Source)\n\tat java.base/sun.nio.ch.SocketChannelImpl.write(Unknown Source)\n\tat org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:118)\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1381)\n\tat org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:764)\n\tat org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:728)\n\tat org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:712)\n\tat org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.flush(Http11OutputBuffer.java:566)\n\tat org.apache.coyote.http11.filters.IdentityOutputFilter.flush(IdentityOutputFilter.java:117)\n\tat org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:220)\n\tat org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1245)\n\tat org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:400)\n\tat org.apache.coyote.Response.action(Response.java:208)\n\tat org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:301)\n\t... 57 common frames omitted\n","correlationId":"1c34b960-f378-4c23-9b2b-3548aa083bcd","service":"order-service"}
{"@timestamp":"2025-12-23T11:27:04.121286632Z","@version":"1","message":"Unexpected error occurred: java.io.IOException: Connection reset by peer","logger_name":"com.marketplace.order.exception.GlobalExceptionHandler","thread_name":"http-nio-8086-exec-2","level":"ERROR","level_value":40000,"stack_trace":"org.apache.catalina.connector.ClientAbortException: java.io.IOException: Connection reset by peer\n\tat org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)\n\tat org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:267)\n\tat org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:120)\n\tat org.springframework.util.StreamUtils.copy(StreamUtils.java:118)\n\tat org.springframework.http.converter.ByteArrayHttpMessageConverter.writeInternal(ByteArrayHttpMessageConverter.java:67)\n\tat org.springframework.http.converter.ByteArrayHttpMessageConverter.writeInternal(ByteArrayHttpMessageConverter.java:38)\n\tat org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:236)\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:300)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:190)\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat com.marketplace.order.filter.CorrelationIdFilter.doFilterInternal(CorrelationIdFilter.java:43)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.base/java.lang.Thread.run(Unknown Source)\nCaused by: java.io.IOException: Connection reset by peer\n\tat java.base/sun.nio.ch.SocketDispatcher.write0(Native Method)\n\tat java.base/sun.nio.ch.SocketDispatcher.write(Unknown Source)\n\tat java.base/sun.nio.ch.IOUtil.writeFromNativeBuffer(Unknown Source)\n\tat java.base/sun.nio.ch.IOUtil.write(Unknown Source)\n\tat java.base/sun.nio.ch.IOUtil.write(Unknown Source)\n\tat java.base/sun.nio.ch.SocketChannelImpl.write(Unknown Source)\n\tat org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:118)\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1381)\n\tat org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:764)\n\tat org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:728)\n\tat org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:712)\n\tat org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.flush(Http11OutputBuffer.java:566)\n\tat org.apache.coyote.http11.filters.IdentityOutputFilter.flush(IdentityOutputFilter.java:117)\n\tat org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:220)\n\tat org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1245)\n\tat org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:400)\n\tat org.apache.coyote.Response.action(Response.java:208)\n\tat org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:301)\n\t... 57 common frames omitted\n","correlationId":"310bec22-141d-4caf-b4cd-930ad0df868a","service":"order-service"}